@(td: org.ddahl.scalatra.TemperatureData)
@import java.util._

<!DOCTYPE html>

<html>
  <meta charset="UTF-8">
  <meta name=viewport content="width=device-width, initial-scale=1">
  <head>
    <title>Forecast for @td.label</title>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {

        $('#btnSubmit').click(function(event) {
          var place = $("#inputPlace").val();
          window.location.replace("../" + place + "/index.html");
        });

        $("#inputPlace").keyup(function(event) {
          if (event.which == 13) {
            $('#btnSubmit').click();
          }
        }).keydown(function(event) {
          if (event.which == 13) {
            event.preventDefault();
          }
        });

        $("#inputYear").select();

      });
    </script>
  </head>
  <body>
    <br>
    <div class="container">
    <div class="panel panel-info">
      <div class="panel panel-heading">
        <h3 class="panel-title">Forecasted temperatures for @td.label</h3>
      </div>
      <div class="panel-body">
        @if( td.label == null ) {
          <div class="alert alert-danger" role="alert">
            Invalid query or data not found.
          </div>          
        } else {
          <div class="col-sm-12">
            <img src="plot.svg" alt="Plot @td.label" style="max-width:100%; min-width=50%"/>
          </div>
        }
      </div>
    </div>

    <div class="form-inline">
      <div class="form-group">
        <label for="inputPlace">Location:</label>
        <input type="text" class="form-control" id="inputPlace" value="@td.place"/>
      </div>
      <div class="form-group">
        <button type="submit" class="btn btn-info" id="btnSubmit">Submit</button>
      </div>
      <div class="form-group">
          &emsp;&emsp;&emsp;<a href="https://darksky.net/poweredby/">Powered by Dark Sky</a>
      </div>
    </div>
    </div>
  </body>
</html>

